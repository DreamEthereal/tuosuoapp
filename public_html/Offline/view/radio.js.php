<?php
//dezend by http://www.yunlu99.com/
echo 'function view_radio_data(questionID)' . "\r\n" . '{' . "\r\n" . '	var questionName = \'\';' . "\r\n" . '	if( QtnListArray[questionID].isRequired == 1 )' . "\r\n" . '	{' . "\r\n" . '		questionName += \'<span class=red>*</span>\';' . "\r\n" . '	}' . "\r\n" . '	questionName += qQuotaChar(QtnListArray[questionID].questionName);' . "\r\n" . '	questionName += \'&nbsp;<span class=notes>[单选题]</span>\';' . "\r\n" . '	dataqtn = "{";' . "\r\n" . '	dataqtn += " questionName:\'"+qJsonCharFilter(questionName)+"\',";' . "\r\n" . '' . "\r\n" . '	//显示题目选项' . "\r\n" . '	var optionID = \'option_\'+questionID;' . "\r\n" . '	var theOptionValue = dataRow.rows[0][dataIndex[optionID]];' . "\r\n" . '	if( QtnListArray[questionID].isSelect != 1 && QtnListArray[questionID].isHaveOther == 1 )' . "\r\n" . '	{' . "\r\n" . '		var otherID = \'TextOtherValue_\'+questionID;' . "\r\n" . '		var theOtherValue = dataRow.rows[0][dataIndex[otherID]];' . "\r\n" . '' . "\r\n" . '		if( theOtherValue != \'\' && (theOptionValue == \'0\' || theOptionValue == \'\') )' . "\r\n" . '		{' . "\r\n" . '			dataqtn += " isHaveOther:\'\',";' . "\r\n" . '			dataqtn += " optionName:\'"+qJsonCharFilter(QtnListArray[questionID].otherText)+"\',";' . "\r\n" . '			dataqtn += " otherText:\'"+qJsonCharFilter(QtnListArray[questionID].otherText)+"\',";' . "\r\n" . '			dataqtn += " textOtherValue:\'"+qJsonCharFilter(theOtherValue)+"\'";' . "\r\n" . '		}' . "\r\n" . '		else' . "\r\n" . '		{' . "\r\n" . '			if( (theOptionValue == \'0\' || theOptionValue == \'\') && theOtherValue == \'\' )' . "\r\n" . '			{' . "\r\n" . '				dataqtn += " isHaveOther:\'none\',";' . "\r\n" . '				dataqtn += " optionName:\'跳过\',";' . "\r\n" . '				dataqtn += " otherText:\'\',";' . "\r\n" . '				dataqtn += " textOtherValue:\'\'";' . "\r\n" . '			}' . "\r\n" . '			else' . "\r\n" . '			{' . "\r\n" . '				dataqtn += " isHaveOther:\'none\',";' . "\r\n" . '				dataqtn += " optionName:\'"+qJsonCharFilter(RadioListArray[questionID][theOptionValue].optionName)+"\',";' . "\r\n" . '				dataqtn += " otherText:\'\',";' . "\r\n" . '				dataqtn += " textOtherValue:\'\'";' . "\r\n" . '			}' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	else' . "\r\n" . '	{' . "\r\n" . '		if( theOptionValue == \'0\' || theOptionValue == \'\' )' . "\r\n" . '		{' . "\r\n" . '			dataqtn += " isHaveOther:\'none\',";' . "\r\n" . '			dataqtn += " optionName:\'跳过\',";' . "\r\n" . '			dataqtn += " otherText:\'\',";' . "\r\n" . '			dataqtn += " textOtherValue:\'\'";' . "\r\n" . '		}' . "\r\n" . '		else' . "\r\n" . '		{' . "\r\n" . '			dataqtn += " isHaveOther:\'none\',";' . "\r\n" . '			dataqtn += " optionName:\'"+qJsonCharFilter(RadioListArray[questionID][theOptionValue].optionName)+"\',";' . "\r\n" . '			dataqtn += " otherText:\'\',";' . "\r\n" . '			dataqtn += " textOtherValue:\'\'";' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	dataqtn += "}";' . "\r\n" . '' . "\r\n" . '	var tplText =\'<table width="100%"><tr><td class="question">{$questionName}</td></tr><tr><td><table cellSpacing=0 cellPadding=0><tr><td height=25 class="option">&nbsp;<font color=red>{$optionName}</font></td></tr><tr style="display:{$isHaveOther}"><td height=25 class="option">&nbsp;<span class="option">{$otherText}(文本)：</span><font color=red>{$textOtherValue}</font></td></tr></table></td></tr></table>\';' . "\r\n" . '' . "\r\n" . '    var jsondata = eval(\'(\'+dataqtn+\')\');' . "\r\n" . '	var t = new jSmart(tplText);' . "\r\n" . '    survey_content_data_html += t.fetch(jsondata);' . "\r\n" . '	jsondata = null;' . "\r\n" . '}';

?>
