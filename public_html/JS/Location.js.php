<?php
//dezend by http://www.yunlu99.com/
echo 'function showLocation(position) {' . "\r\n" . '   var location = document.getElementById("GpsInfo");' . "\r\n" . '   if( location != null ) {' . "\r\n" . '		var str = "";' . "\r\n" . '		str += "time:"+position.timestamp;' . "\r\n" . '		str += "|accuracy:"+position.coords.accuracy;' . "\r\n" . '		str += "|longitude:"+position.coords.longitude;' . "\r\n" . '		str += "|latitude:"+position.coords.latitude;' . "\r\n" . '		str += "|speed:"+position.coords.speed;' . "\r\n" . '		str += "|bearing:"+position.coords.heading;' . "\r\n" . '		str += "|altitude:"+position.coords.altitude;	 ' . "\r\n" . '	    location.value = str;' . "\r\n" . '		//alert(str);' . "\r\n" . '    }' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'function errorHandler(error) ' . "\r\n" . '{' . "\r\n" . '	/*switch(error.code)' . "\r\n" . '    {' . "\r\n" . '		case error.PERMISSION_DENIED:' . "\r\n" . '		   alert("User denied the request for Geolocation.");' . "\r\n" . '		break;' . "\r\n" . '		case error.POSITION_UNAVAILABLE:' . "\r\n" . '		   alert("Location information is unavailable.");' . "\r\n" . '		break;' . "\r\n" . '		case error.TIMEOUT:' . "\r\n" . '		   alert("The request to get user location timed out.");' . "\r\n" . '		break;' . "\r\n" . '		case error.UNKNOWN_ERROR:' . "\r\n" . '		   alert("An unknown error occurred.");' . "\r\n" . '		break;' . "\r\n" . '	}*/' . "\r\n" . '}' . "\r\n" . 'function getLocation(){' . "\r\n" . '   if(navigator.geolocation){' . "\r\n" . '      // timeout at 60000 milliseconds (60 seconds)' . "\r\n" . '      var options = {enableHighAccuracy:true,maximumAge:30000};' . "\r\n" . '      //var options = {enableHighAccuracy:true,maximumAge:30000,timeout:60000};' . "\r\n" . '      navigator.geolocation.getCurrentPosition(showLocation,errorHandler,options);' . "\r\n" . '   }else{}' . "\r\n" . '}';

?>
