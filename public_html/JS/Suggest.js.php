<?php
//dezend by http://www.yunlu99.com/
if ((ob_get_length() === false) && !ini_get('zlib.output_compression') && (ini_get('output_handler') != 'ob_gzhandler') && (ini_get('output_handler') != 'mb_output_handler')) {
	ob_start('ob_gzhandler');
}

header('Cache-Control: public');
header('Pragma: cache');
$offset = 2592000;
$ExpStr = 'Expires: ' . gmdate('D, d M Y H:i:s', time() + $offset) . ' GMT';
$LmStr = 'Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime(__FILE__)) . ' GMT';
header($ExpStr);
header($LmStr);
header('Content-Type: text/javascr¨©pt; charset: UTF-8');
echo '' . "\r\n" . 'function autoCompleteDB()' . "\r\n" . '{' . "\r\n" . '	this.aNames=new Array();' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'autoCompleteDB.prototype.assignArray=function(aList)' . "\r\n" . '{' . "\r\n" . '	this.aNames=aList;' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoCompleteDB.prototype.getMatches=function(str,aList,maxSize)' . "\r\n" . '{' . "\r\n" . '	/* debug */ //alert(maxSize+"ok getmatches");' . "\r\n" . '	var ctr=0;' . "\r\n" . '	for(var i in this.aNames)' . "\r\n" . '	{' . "\r\n" . '		' . "\r\n" . '		//if(this.aNames[i].toLowerCase().indexOf(str.toLowerCase())==0) /*looking for case insensitive matches */' . "\r\n" . '		if( escape(this.aNames[i]).indexOf(escape(str)) == 0 ) ' . "\r\n" . '		{' . "\r\n" . '			aList.push(this.aNames[i]);' . "\r\n" . '			ctr++;' . "\r\n" . '		}' . "\r\n" . '		if(ctr==(maxSize-1)) /* counter to limit no of matches to maxSize */' . "\r\n" . '			break;' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'function autoComplete(aNames,oText,oDiv,maxSize)' . "\r\n" . '{' . "\r\n" . '' . "\r\n" . '	this.oText=oText;' . "\r\n" . '	this.oDiv=oDiv;' . "\r\n" . '	this.maxSize=maxSize;' . "\r\n" . '	this.cur=-1;' . "\r\n" . '' . "\r\n" . '	' . "\r\n" . '	/*debug here */' . "\r\n" . '	//alert(oText+","+this.oDiv);' . "\r\n" . '	' . "\r\n" . '	this.db=new autoCompleteDB();' . "\r\n" . '	this.db.assignArray(aNames);' . "\r\n" . '	' . "\r\n" . '	oText.onkeyup=this.keyUp;' . "\r\n" . '	oText.onkeydown=this.keyDown;' . "\r\n" . '	oText.autoComplete=this;' . "\r\n" . '	oText.onblur=this.overSuggest;' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.overSuggest=function()' . "\r\n" . '{' . "\r\n" . '	this.autoComplete.oDiv.style.visibility="hidden";' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.hideSuggest=function()' . "\r\n" . '{' . "\r\n" . '	this.oDiv.style.visibility="hidden";' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.selectText=function(iStart,iEnd)' . "\r\n" . '{' . "\r\n" . '	if(this.oText.createTextRange) /* For IE */' . "\r\n" . '	{' . "\r\n" . '		var oRange=this.oText.createTextRange();' . "\r\n" . '		oRange.moveStart("character",iStart);' . "\r\n" . '		oRange.moveEnd("character",iEnd-this.oText.value.length);' . "\r\n" . '		oRange.select();' . "\r\n" . '	}' . "\r\n" . '	else if(this.oText.setSelectionRange) /* For Mozilla */' . "\r\n" . '	{' . "\r\n" . '		this.oText.setSelectionRange(iStart,iEnd);' . "\r\n" . '	}' . "\r\n" . '	this.oText.focus();' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.textComplete=function(sFirstMatch)' . "\r\n" . '{' . "\r\n" . '	if(this.oText.createTextRange || this.oText.setSelectionRange)' . "\r\n" . '	{' . "\r\n" . '		var iStart=this.oText.value.length;' . "\r\n" . '		this.oText.value=sFirstMatch;' . "\r\n" . '		this.selectText(iStart,sFirstMatch.length);' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.keyDown=function(oEvent)' . "\r\n" . '{' . "\r\n" . '	oEvent=window.event || oEvent;' . "\r\n" . '	iKeyCode=oEvent.keyCode;' . "\r\n" . '' . "\r\n" . '	switch(iKeyCode)' . "\r\n" . '	{' . "\r\n" . '		case 38: //up arrow' . "\r\n" . '			this.autoComplete.moveUp();' . "\r\n" . '			break;' . "\r\n" . '		case 40: //down arrow' . "\r\n" . '			this.autoComplete.moveDown();' . "\r\n" . '			break;' . "\r\n" . '		case 13: //return key' . "\r\n" . '			window.focus();' . "\r\n" . '			break;' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.moveDown=function()' . "\r\n" . '{' . "\r\n" . '	if(this.oDiv.childNodes.length>0 && this.cur<(this.oDiv.childNodes.length-1))' . "\r\n" . '	{' . "\r\n" . '		++this.cur;' . "\r\n" . '		for(var i=0;i<this.oDiv.childNodes.length;i++)' . "\r\n" . '		{' . "\r\n" . '			if(i==this.cur)' . "\r\n" . '			{' . "\r\n" . '				this.oDiv.childNodes[i].className="over";' . "\r\n" . '				this.oText.value=this.oDiv.childNodes[i].innerHTML;' . "\r\n" . '			}' . "\r\n" . '			else' . "\r\n" . '			{' . "\r\n" . '				this.oDiv.childNodes[i].className="";' . "\r\n" . '			}' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.moveUp=function()' . "\r\n" . '{' . "\r\n" . '	if(this.oDiv.childNodes.length>0 && this.cur>0)' . "\r\n" . '	{' . "\r\n" . '		--this.cur;' . "\r\n" . '		for(var i=0;i<this.oDiv.childNodes.length;i++)' . "\r\n" . '		{' . "\r\n" . '			if(i==this.cur)' . "\r\n" . '			{' . "\r\n" . '				this.oDiv.childNodes[i].className="over";' . "\r\n" . '				this.oText.value=this.oDiv.childNodes[i].innerHTML;' . "\r\n" . '			}' . "\r\n" . '			else' . "\r\n" . '			{' . "\r\n" . '				this.oDiv.childNodes[i].className="";' . "\r\n" . '			}' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.keyUp=function(oEvent)' . "\r\n" . '{' . "\r\n" . '	oEvent=oEvent || window.event;' . "\r\n" . '	var iKeyCode=oEvent.keyCode;' . "\r\n" . '	if(iKeyCode==8 || iKeyCode==46)' . "\r\n" . '	{' . "\r\n" . '		this.autoComplete.onTextChange(false); /* without autocomplete */' . "\r\n" . '	}' . "\r\n" . '	else if (iKeyCode < 32 || (iKeyCode >= 33 && iKeyCode <= 46) || (iKeyCode >= 112 && iKeyCode <= 123)) ' . "\r\n" . '	{' . "\r\n" . '        //ignore' . "\r\n" . '    } ' . "\r\n" . '	else ' . "\r\n" . '	{' . "\r\n" . '		this.autoComplete.onTextChange(true); /* with autocomplete */' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.positionSuggest=function() /* to calculate the appropriate poistion of the dropdown */' . "\r\n" . '{' . "\r\n" . '	var oNode=this.oText;' . "\r\n" . '	var x=0,y=oNode.offsetHeight;' . "\r\n" . '' . "\r\n" . '	while(oNode.offsetParent && oNode.offsetParent.tagName.toUpperCase() != \'BODY\')' . "\r\n" . '	{' . "\r\n" . '		x+=oNode.offsetLeft;' . "\r\n" . '		y+=oNode.offsetTop;' . "\r\n" . '		oNode=oNode.offsetParent;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	x+=oNode.offsetLeft;' . "\r\n" . '	y+=oNode.offsetTop;' . "\r\n" . '' . "\r\n" . '	this.oDiv.style.top=y+"px";' . "\r\n" . '	this.oDiv.style.left=x+"px";' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'autoComplete.prototype.onTextChange=function(bTextComplete)' . "\r\n" . '{' . "\r\n" . '	var txt=this.oText.value;' . "\r\n" . '	var oThis=this;' . "\r\n" . '	this.cur=-1;' . "\r\n" . '	' . "\r\n" . '	if(txt.length>0)' . "\r\n" . '	{' . "\r\n" . '		while(this.oDiv.hasChildNodes())' . "\r\n" . '			this.oDiv.removeChild(this.oDiv.firstChild);' . "\r\n" . '		' . "\r\n" . '		var aStr=new Array();' . "\r\n" . '		this.db.getMatches(txt,aStr,this.maxSize);' . "\r\n" . '		if(!aStr.length) {this.hideSuggest(); return; }' . "\r\n" . '		//if(bTextComplete) this.textComplete(aStr[0]);' . "\r\n" . '		this.positionSuggest();' . "\r\n" . '		' . "\r\n" . '		for(i in aStr)' . "\r\n" . '		{' . "\r\n" . '			var oNew=document.createElement(\'div\');' . "\r\n" . '			oNew.style.width="100%";' . "\r\n" . '			this.oDiv.appendChild(oNew);' . "\r\n" . '			oNew.onmouseover=' . "\r\n" . '			oNew.onmouseout=' . "\r\n" . '			oNew.onmousedown=function(oEvent)' . "\r\n" . '			{' . "\r\n" . '				oEvent=window.event || oEvent;' . "\r\n" . '				oSrcDiv=oEvent.target || oEvent.srcElement;' . "\r\n" . '' . "\r\n" . '				//debug :window.status=oEvent.type;' . "\r\n" . '				if(oEvent.type=="mousedown")' . "\r\n" . '				{' . "\r\n" . '					oThis.oText.value=this.innerHTML;' . "\r\n" . '				}' . "\r\n" . '				else if(oEvent.type=="mouseover")' . "\r\n" . '				{' . "\r\n" . '					this.className="over";' . "\r\n" . '				}' . "\r\n" . '				else if(oEvent.type=="mouseout")' . "\r\n" . '				{' . "\r\n" . '					this.className="";' . "\r\n" . '				}' . "\r\n" . '				else' . "\r\n" . '				{' . "\r\n" . '					this.oText.focus();' . "\r\n" . '				}' . "\r\n" . '			};' . "\r\n" . '			oNew.innerHTML=aStr[i];' . "\r\n" . '		}' . "\r\n" . '		' . "\r\n" . '		this.oDiv.style.visibility="visible";' . "\r\n" . '	}' . "\r\n" . '	else' . "\r\n" . '	{' . "\r\n" . '		this.oDiv.innerHTML="";' . "\r\n" . '		this.oDiv.style.visibility="hidden";' . "\r\n" . '	}' . "\r\n" . '};' . "\r\n" . '';

?>
