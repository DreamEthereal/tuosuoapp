<?php
//dezend by http://www.yunlu99.com/
echo '' . "\r\n" . 'var http_request = false;' . "\r\n" . 'function AjaxChangeRequest(url)' . "\r\n" . '{' . "\r\n" . '	http_request = false;' . "\r\n" . '	if(window.ActiveXObject)' . "\r\n" . '	{' . "\r\n" . '		try  // IE' . "\r\n" . '		{' . "\r\n" . '			http_request = new ActiveXObject("Msxml2.XMLHTTP");' . "\r\n" . '		}' . "\r\n" . '		catch (e)' . "\r\n" . '		{' . "\r\n" . '			try' . "\r\n" . '			{' . "\r\n" . '				http_request = new ActiveXObject("Microsoft.XMLHTTP");' . "\r\n" . '			}' . "\r\n" . '			catch (e) {}' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	else if(window.XMLHttpRequest)' . "\r\n" . '	{' . "\r\n" . '		// Mozilla, Safari,...' . "\r\n" . '		http_request = new XMLHttpRequest();' . "\r\n" . '		if (http_request.overrideMimeType)' . "\r\n" . '		{' . "\r\n" . '			http_request.overrideMimeType(\'text/xml\');' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	' . "\r\n" . '	if (!http_request)' . "\r\n" . '	{' . "\r\n" . '		alert("Cannot create an XMLHTTP instance");' . "\r\n" . '		return false;' . "\r\n" . '	}' . "\r\n" . '	http_request.onreadystatechange = AlertChangeContents;' . "\r\n" . '	http_request.open(\'GET\', url, true);' . "\r\n" . '	http_request.send(null);' . "\r\n" . '}' . "\r\n" . 'function AlertChangeContents()' . "\r\n" . '{' . "\r\n" . '	if (http_request.readyState == 4)' . "\r\n" . '	{' . "\r\n" . '		if(http_request.status == 200)' . "\r\n" . '		{' . "\r\n" . '			alert(http_request.responseText.replace(/&quot;/g,\'"\').replace(/&amp;/g,\'&\'));' . "\r\n" . '			//window.location.reload();' . "\r\n" . '			window.location.replace(window.location.href);' . "\r\n" . '		}' . "\r\n" . '		else' . "\r\n" . '		{' . "\r\n" . '			alert(\'ÍøÂç´«ÊäÎÊÌâ\');' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'function ajax_qtn_action(url) {' . "\r\n" . '	var ajax=false; ' . "\r\n" . '	try { ajax = new ActiveXObject("Msxml2.XMLHTTP"); }' . "\r\n" . '	catch (e) { try { ajax = new ActiveXObject("Microsoft.XMLHTTP"); } catch (E) { ajax = false; } }' . "\r\n" . '	if (!ajax && typeof XMLHttpRequest!=\'undefined\') ajax = new XMLHttpRequest(); ' . "\r\n" . '' . "\r\n" . '	ajax.open("GET", url, true); ' . "\r\n" . '	ajax.send(null);' . "\r\n" . '	ajax.onreadystatechange = function(){' . "\r\n" . '	   if( ajax.readyState == 4 && ajax.status == 200)' . "\r\n" . '	   {' . "\r\n" . '		   //questionID######qname######qlang######text' . "\r\n" . '		   var theRtnArray = ajax.responseText.split(\'######\');' . "\r\n" . '		   alert(theRtnArray[3]);' . "\r\n" . '		   var thisProg = "./p.php?qname=" + theRtnArray[1] + "&qlang="+theRtnArray[2]+"&questionID="+theRtnArray[0];' . "\r\n" . '		   parent.document.getElementById("the_content_iframe").src = thisProg;' . "\r\n" . '	   }	' . "\r\n" . '	} ' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . 'var http_request = false;' . "\r\n" . 'function AjaxPubRequest(url,type)' . "\r\n" . '{' . "\r\n" . '	http_request = false;' . "\r\n" . '	if(window.ActiveXObject)' . "\r\n" . '	{' . "\r\n" . '		try  // IE' . "\r\n" . '		{' . "\r\n" . '			http_request = new ActiveXObject("Msxml2.XMLHTTP");' . "\r\n" . '		}' . "\r\n" . '		catch (e)' . "\r\n" . '		{' . "\r\n" . '			try' . "\r\n" . '			{' . "\r\n" . '				http_request = new ActiveXObject("Microsoft.XMLHTTP");' . "\r\n" . '			}' . "\r\n" . '			catch (e) {}' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	else if(window.XMLHttpRequest)' . "\r\n" . '	{' . "\r\n" . '		// Mozilla, Safari,...' . "\r\n" . '		http_request = new XMLHttpRequest();' . "\r\n" . '		if (http_request.overrideMimeType)' . "\r\n" . '		{' . "\r\n" . '			http_request.overrideMimeType(\'text/xml\');' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '	' . "\r\n" . '	if (!http_request)' . "\r\n" . '	{' . "\r\n" . '		alert("Cannot create an XMLHTTP instance");' . "\r\n" . '		return false;' . "\r\n" . '	}' . "\r\n" . '	http_request.open(\'GET\', url, true);' . "\r\n" . '	http_request.send(null);' . "\r\n" . '	http_request.onreadystatechange = function() {' . "\r\n" . '		if (http_request.readyState == 4 && http_request.status == 200)' . "\r\n" . '		{' . "\r\n" . '		   if ( type == 1 )' . "\r\n" . '		   {' . "\r\n" . '				alert(http_request.responseText);' . "\r\n" . '				window.close();' . "\r\n" . '		   }' . "\r\n" . '		   else' . "\r\n" . '		   {' . "\r\n" . '				alert(http_request.responseText);' . "\r\n" . '				parent.window.close();' . "\r\n" . '		   }' . "\r\n" . '        }' . "\r\n" . '	}' . "\r\n" . '}' . "\r\n" . '';

?>
