<?php
//dezend by http://www.yunlu99.com/
if ((ob_get_length() === false) && !ini_get('zlib.output_compression') && (ini_get('output_handler') != 'ob_gzhandler') && (ini_get('output_handler') != 'mb_output_handler')) {
	ob_start('ob_gzhandler');
}

header('Cache-Control: public');
header('Pragma: cache');
$offset = 2592000;
$ExpStr = 'Expires: ' . gmdate('D, d M Y H:i:s', time() + $offset) . ' GMT';
$LmStr = 'Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime(__FILE__)) . ' GMT';
header($ExpStr);
header($LmStr);
header('Content-Type: text/javascr¨©pt; charset: UTF-8');
echo '' . "\r\n" . '//' . "\r\n" . '// getPageScroll()' . "\r\n" . '// Returns array with x,y page scroll values.' . "\r\n" . '//' . "\r\n" . 'function getPageScroll(){' . "\r\n" . '' . "\r\n" . '	var yScroll;' . "\r\n" . '' . "\r\n" . '	if (self.pageYOffset) {' . "\r\n" . '		yScroll = self.pageYOffset;' . "\r\n" . '	} else if (document.documentElement && document.documentElement.scrollTop){	 // Explorer 6 Strict' . "\r\n" . '		yScroll = document.documentElement.scrollTop;' . "\r\n" . '	} else if (document.body) {// all other Explorers' . "\r\n" . '		yScroll = document.body.scrollTop;' . "\r\n" . '	}' . "\r\n" . '	arrayPageScroll = new Array(\'\',yScroll) ' . "\r\n" . '	return arrayPageScroll;' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// getPageSize()' . "\r\n" . '// Returns array with page width, height and window width, height' . "\r\n" . '//' . "\r\n" . 'function getPageSize(){' . "\r\n" . '	' . "\r\n" . '	var xScroll, yScroll;' . "\r\n" . '	' . "\r\n" . '	if (window.innerHeight && window.scrollMaxY) {	' . "\r\n" . '		xScroll = document.body.scrollWidth;' . "\r\n" . '		yScroll = window.innerHeight + window.scrollMaxY;' . "\r\n" . '	} else if (document.body.scrollHeight > document.body.offsetHeight){ // all but Explorer Mac' . "\r\n" . '		xScroll = document.body.scrollWidth;' . "\r\n" . '		yScroll = document.body.scrollHeight;' . "\r\n" . '	} else { // Explorer Mac...would also work in Explorer 6 Strict, Mozilla and Safari' . "\r\n" . '		xScroll = document.body.offsetWidth;' . "\r\n" . '		yScroll = document.body.offsetHeight;' . "\r\n" . '	}' . "\r\n" . '	' . "\r\n" . '	var windowWidth, windowHeight;' . "\r\n" . '	if (self.innerHeight) {	// all except Explorer' . "\r\n" . '		windowWidth = self.innerWidth;' . "\r\n" . '		windowHeight = self.innerHeight;' . "\r\n" . '	} else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode' . "\r\n" . '		windowWidth = document.documentElement.clientWidth;' . "\r\n" . '		windowHeight = document.documentElement.clientHeight;' . "\r\n" . '	} else if (document.body) { // other Explorers' . "\r\n" . '		windowWidth = document.body.clientWidth;' . "\r\n" . '		windowHeight = document.body.clientHeight;' . "\r\n" . '	}	' . "\r\n" . '	' . "\r\n" . '	// for small pages with total height less then height of the viewport' . "\r\n" . '	if(yScroll < windowHeight){' . "\r\n" . '		pageHeight = windowHeight;' . "\r\n" . '	} else { ' . "\r\n" . '		pageHeight = yScroll;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	// for small pages with total width less then width of the viewport' . "\r\n" . '	if(xScroll < windowWidth){	' . "\r\n" . '		pageWidth = windowWidth;' . "\r\n" . '	} else {' . "\r\n" . '		pageWidth = xScroll;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	arrayPageSize = new Array(pageWidth,pageHeight,windowWidth,windowHeight) ' . "\r\n" . '	return arrayPageSize;' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// pause(numberMillis)' . "\r\n" . '//' . "\r\n" . 'function pause(numberMillis) {' . "\r\n" . '	var now = new Date();' . "\r\n" . '	var exitTime = now.getTime() + numberMillis;' . "\r\n" . '	while (true) {' . "\r\n" . '		now = new Date();' . "\r\n" . '		if (now.getTime() > exitTime)' . "\r\n" . '			return;' . "\r\n" . '	}' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// getKey(key)' . "\r\n" . '// Gets keycode. If \'x\' is pressed then it hides the lightbox.' . "\r\n" . '//' . "\r\n" . '' . "\r\n" . 'function getKey(e){' . "\r\n" . '	if (e == null) { // ie' . "\r\n" . '		keycode = event.keyCode;' . "\r\n" . '	} else { // mozilla' . "\r\n" . '		keycode = e.which;' . "\r\n" . '	}' . "\r\n" . '	key = String.fromCharCode(keycode).toLowerCase();' . "\r\n" . '	' . "\r\n" . '	if(key == \'x\'){ hideLightbox(); }' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// listenKey()' . "\r\n" . '//' . "\r\n" . 'function listenKey () {	document.onkeypress = getKey; }' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// showLightbox()' . "\r\n" . '// Preloads images. Pleaces new image in lightbox then centers and displays.' . "\r\n" . '//' . "\r\n" . 'function showLightbox(objLink)' . "\r\n" . '{' . "\r\n" . '	// prep objects' . "\r\n" . '	var objOverlay = document.getElementById(\'overlay\');' . "\r\n" . '	var objLightbox = document.getElementById(\'lightbox\');' . "\r\n" . '	var objCaption = document.getElementById(\'lightboxCaption\');' . "\r\n" . '	var objImage = document.getElementById(\'lightboxImage\');' . "\r\n" . '	var objLoadingImage = document.getElementById(\'loadingImage\');' . "\r\n" . '	var objLightboxDetails = document.getElementById(\'lightboxDetails\');' . "\r\n" . '	' . "\r\n" . '	var arrayPageSize = getPageSize();' . "\r\n" . '	var arrayPageScroll = getPageScroll();' . "\r\n" . '' . "\r\n" . '	// center loadingImage if it exists' . "\r\n" . '	if (objLoadingImage) {' . "\r\n" . '		objLoadingImage.style.top = (arrayPageScroll[1] + ((arrayPageSize[3] - 35 - objLoadingImage.height) / 2) + \'px\');' . "\r\n" . '		objLoadingImage.style.left = (((arrayPageSize[0] - 20 - objLoadingImage.width) / 2) + \'px\');' . "\r\n" . '		objLoadingImage.style.width = \'100\';' . "\r\n" . '		objLoadingImage.style.height = \'100\';' . "\r\n" . '		objLoadingImage.style.display = \'block\';' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	// set height of Overlay to take up whole page and show' . "\r\n" . '	objOverlay.style.height = (arrayPageSize[1] + \'px\');' . "\r\n" . '	objOverlay.style.display = \'block\';' . "\r\n" . '' . "\r\n" . '	// preload image' . "\r\n" . '	imgPreload = new Image();' . "\r\n" . '' . "\r\n" . '	imgPreload.onload=function(){' . "\r\n" . '		objImage.src = objLink.href;' . "\r\n" . '' . "\r\n" . '		// center lightbox and make sure that the top and left values are not negative' . "\r\n" . '		// and the image placed outside the viewport' . "\r\n" . '		var lightboxTop = arrayPageScroll[1] + ((arrayPageSize[3] - 35 - imgPreload.height) / 2);' . "\r\n" . '		var lightboxLeft = ((arrayPageSize[0] - 20 - imgPreload.width) / 2);' . "\r\n" . '		' . "\r\n" . '		objLightbox.style.top = (lightboxTop < 0) ? "0px" : lightboxTop + "px";' . "\r\n" . '		objLightbox.style.left = (lightboxLeft < 0) ? "0px" : lightboxLeft + "px";' . "\r\n" . '' . "\r\n" . '		objLightboxDetails.style.width = imgPreload.width + \'px\';' . "\r\n" . '		' . "\r\n" . '		if(objLink.getAttribute(\'title\')){' . "\r\n" . '			objCaption.style.display = \'block\';' . "\r\n" . '			objCaption.innerText = objLink.getAttribute(\'title\').replace(/&quot;/g,\'"\');' . "\r\n" . '		} else {' . "\r\n" . '			objCaption.style.display = \'none\';' . "\r\n" . '		}' . "\r\n" . '		' . "\r\n" . '		// A small pause between the image loading and displaying is required with IE,' . "\r\n" . '		// this prevents the previous image displaying for a short burst causing flicker.' . "\r\n" . '		if (navigator.appVersion.indexOf("MSIE")!=-1){' . "\r\n" . '			pause(200);' . "\r\n" . '		} ' . "\r\n" . '' . "\r\n" . '		if (objLoadingImage) {	objLoadingImage.style.display = \'none\'; }' . "\r\n" . '' . "\r\n" . '		// Hide select boxes as they will \'peek\' through the image in IE' . "\r\n" . '		selects = document.getElementsByTagName("select");' . "\r\n" . '        for (i = 0; i != selects.length; i++) {' . "\r\n" . '                selects[i].style.visibility = "hidden";' . "\r\n" . '        }' . "\r\n" . '' . "\r\n" . '		objLightbox.style.display = \'block\';' . "\r\n" . '' . "\r\n" . '		// After image is loaded, update the overlay height as the new image might have' . "\r\n" . '		// increased the overall page height.' . "\r\n" . '		arrayPageSize = getPageSize();' . "\r\n" . '		objOverlay.style.height = (arrayPageSize[1] + \'px\');' . "\r\n" . '		' . "\r\n" . '		// Check for \'x\' keypress' . "\r\n" . '		listenKey();' . "\r\n" . '		return false;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	imgPreload.src = objLink.href;' . "\r\n" . '	' . "\r\n" . '}' . "\r\n" . '//' . "\r\n" . '// hideLightbox()' . "\r\n" . '//' . "\r\n" . 'function hideLightbox()' . "\r\n" . '{' . "\r\n" . '	// get objects' . "\r\n" . '	objOverlay = document.getElementById(\'overlay\');' . "\r\n" . '	objLightbox = document.getElementById(\'lightbox\');' . "\r\n" . '' . "\r\n" . '	// hide lightbox and overlay' . "\r\n" . '	objOverlay.style.display = \'none\';' . "\r\n" . '	objLightbox.style.display = \'none\';' . "\r\n" . '' . "\r\n" . '	// make select boxes visible' . "\r\n" . '	selects = document.getElementsByTagName("select");' . "\r\n" . '    for (i = 0; i != selects.length; i++) {' . "\r\n" . '		selects[i].style.visibility = "visible";' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	// disable keypress listener' . "\r\n" . '	document.onkeypress = \'\';' . "\r\n" . '}' . "\r\n" . '' . "\r\n" . '//' . "\r\n" . '// initLightbox()' . "\r\n" . '// Function runs on window load, going through link tags looking for rel="picbox".' . "\r\n" . '// These links receive onclick events that enable the lightbox display for their targets.' . "\r\n" . '//' . "\r\n" . 'function initLightbox()' . "\r\n" . '{' . "\r\n" . '	if (!document.getElementsByTagName){ return; }' . "\r\n" . '	var anchors = document.getElementsByTagName("a");' . "\r\n" . '' . "\r\n" . '	// loop through all anchor tags' . "\r\n" . '	for (var i=0; i<anchors.length; i++){' . "\r\n" . '		var isrel = false;' . "\r\n" . '		var anchor = anchors[i];' . "\r\n" . '		var parts= anchor.getAttribute("href").split("/");' . "\r\n" . '		if( parts[parts.length-1] != "")' . "\r\n" . '		{' . "\r\n" . '			var fileExt = parts[parts.length-1].split(".");' . "\r\n" . '			switch( fileExt[fileExt.length-1] )' . "\r\n" . '			{' . "\r\n" . '			    case "gif":' . "\r\n" . '				   isrel = true;' . "\r\n" . '				break;' . "\r\n" . '				case "jpg":' . "\r\n" . '				   isrel = true;' . "\r\n" . '				break;' . "\r\n" . '				case "png":' . "\r\n" . '				   isrel = true;' . "\r\n" . '				break;' . "\r\n" . '				case "bmp":' . "\r\n" . '				   isrel = true;' . "\r\n" . '				break;' . "\r\n" . '				case "jpeg":' . "\r\n" . '				   isrel = true;' . "\r\n" . '				break;' . "\r\n" . '				default:' . "\r\n" . '				   isrel = false;' . "\r\n" . '				break;' . "\r\n" . '		     }' . "\r\n" . '			 if (anchor.getAttribute("href") && (isrel == true )&& (anchor.getAttribute("rel") == "picbox"))' . "\r\n" . '			 {' . "\r\n" . '				anchor.onclick = function () {showLightbox(this); return false;}' . "\r\n" . '			 }' . "\r\n" . '		}' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	// the rest of this code inserts html at the top of the page that looks like this:' . "\r\n" . '	//' . "\r\n" . '	// <div id="overlay">' . "\r\n" . '	//    <img id="loadingImage" />' . "\r\n" . '	//	</div>' . "\r\n" . '	// <div id="lightbox">' . "\r\n" . '	//		<a href="#" onclick="hideLightbox(); return false;" title="Click anywhere to close image">' . "\r\n" . '	//			<img id="closeButton" />		' . "\r\n" . '	//			<img id="lightboxImage" />' . "\r\n" . '	//		</a>' . "\r\n" . '	//		<div id="lightboxDetails">' . "\r\n" . '	//			<div id="lightboxCaption"></div>' . "\r\n" . '	//			<div id="keyboardMsg"></div>' . "\r\n" . '	//		</div>' . "\r\n" . '	// </div>' . "\r\n" . '	' . "\r\n" . '	var objBody = document.getElementsByTagName("body").item(0);' . "\r\n" . '	' . "\r\n" . '	// create overlay div and hardcode some functional styles (aesthetic styles are in CSS file)' . "\r\n" . '	var objOverlay = document.createElement("div");' . "\r\n" . '	objOverlay.setAttribute(\'id\',\'overlay\');' . "\r\n" . '	objOverlay.onclick = function () {hideLightbox(); return false;}' . "\r\n" . '	objOverlay.style.display = \'none\';' . "\r\n" . '	objOverlay.style.position = \'absolute\';' . "\r\n" . '	objOverlay.style.top = \'0\';' . "\r\n" . '	objOverlay.style.left = \'0\';' . "\r\n" . '	objOverlay.style.zIndex = \'90\';' . "\r\n" . ' 	objOverlay.style.width = \'100%\';' . "\r\n" . '	objBody.insertBefore(objOverlay, objBody.firstChild);' . "\r\n" . '	' . "\r\n" . '	var arrayPageSize = getPageSize();' . "\r\n" . '	var arrayPageScroll = getPageScroll();' . "\r\n" . '' . "\r\n" . '	// preload and create loader image' . "\r\n" . '	var imgPreloader = new Image();' . "\r\n" . '	' . "\r\n" . '	// if loader image found, create link to hide lightbox and create loadingimage' . "\r\n" . '	imgPreloader.onload=function(){' . "\r\n" . '' . "\r\n" . '		var objLoadingImageLink = document.createElement("a");' . "\r\n" . '		objLoadingImageLink.setAttribute(\'href\',\'javascript:void(0)\');' . "\r\n" . '		objLoadingImageLink.onclick = function () {hideLightbox(); return false;}' . "\r\n" . '		objOverlay.appendChild(objLoadingImageLink);' . "\r\n" . '		' . "\r\n" . '		var objLoadingImage = document.createElement("img");' . "\r\n" . '		objLoadingImage.src = loadingImage;' . "\r\n" . '		objLoadingImage.setAttribute(\'id\',\'loadingImage\');' . "\r\n" . '		objLoadingImage.style.position = \'absolute\';' . "\r\n" . '		objLoadingImage.style.zIndex = \'150\';' . "\r\n" . '		objLoadingImageLink.appendChild(objLoadingImage);' . "\r\n" . '' . "\r\n" . '		imgPreloader.onload=function(){};	//	clear onLoad, as IE will flip out w/animated gifs' . "\r\n" . '' . "\r\n" . '		return false;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	imgPreloader.src = loadingImage;' . "\r\n" . '' . "\r\n" . '	// create lightbox div, same note about styles as above' . "\r\n" . '	var objLightbox = document.createElement("div");' . "\r\n" . '	objLightbox.setAttribute(\'id\',\'lightbox\');' . "\r\n" . '	objLightbox.style.display = \'none\';' . "\r\n" . '	objLightbox.style.position = \'absolute\';' . "\r\n" . '	objLightbox.style.zIndex = \'100\';	' . "\r\n" . '	objBody.insertBefore(objLightbox, objOverlay.nextSibling);' . "\r\n" . '	' . "\r\n" . '	// create link' . "\r\n" . '	' . "\r\n" . '	var objLink = document.createElement("a");' . "\r\n" . '	objLink.setAttribute(\'href\',\'javascript:void(0)\');' . "\r\n" . '	objLink.setAttribute(\'title\',\'Click to close\');' . "\r\n" . '	//objLink.onclick = function () {hideLightbox(); return false;}' . "\r\n" . '	objLightbox.appendChild(objLink);' . "\r\n" . '' . "\r\n" . '	// preload and create close button image' . "\r\n" . '	var imgPreloadCloseButton = new Image();' . "\r\n" . '' . "\r\n" . '	// if close button image found, ' . "\r\n" . '	imgPreloadCloseButton.onload=function(){' . "\r\n" . '' . "\r\n" . '		var objCloseButton = document.createElement("img");' . "\r\n" . '		objCloseButton.src = closeButton;' . "\r\n" . '		objCloseButton.setAttribute(\'id\',\'closeButton\');' . "\r\n" . '		objCloseButton.onclick = function () {hideLightbox(); return false;}' . "\r\n" . '		objCloseButton.style.position = \'absolute\';' . "\r\n" . '		objCloseButton.style.zIndex = \'200\';' . "\r\n" . '		objCloseButton.style.width = \'15px\';' . "\r\n" . '		objCloseButton.style.height = \'15px\';' . "\r\n" . '		objLink.appendChild(objCloseButton);' . "\r\n" . '		return false;' . "\r\n" . '	}' . "\r\n" . '' . "\r\n" . '	imgPreloadCloseButton.src = closeButton;' . "\r\n" . '' . "\r\n" . '	// create image' . "\r\n" . '	var objImage = document.createElement("img");' . "\r\n" . '	objImage.setAttribute(\'id\',\'lightboxImage\');' . "\r\n" . '	objLink.appendChild(objImage);' . "\r\n" . '	' . "\r\n" . '	// create details div, a container for the caption and keyboard message' . "\r\n" . '	var objLightboxDetails = document.createElement("div");' . "\r\n" . '	objLightboxDetails.setAttribute(\'id\',\'lightboxDetails\');' . "\r\n" . '	objLightbox.appendChild(objLightboxDetails);' . "\r\n" . '' . "\r\n" . '	// create caption' . "\r\n" . '	var objCaption = document.createElement("div");' . "\r\n" . '	objCaption.setAttribute(\'id\',\'lightboxCaption\');' . "\r\n" . '	objCaption.style.display = \'none\';' . "\r\n" . '	objLightboxDetails.appendChild(objCaption);' . "\r\n" . '}' . "\r\n" . '';

?>
